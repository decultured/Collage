<?xml version="1.0" encoding="utf-8"?>
<clg:ClipView xmlns:mx="http://www.adobe.com/2006/mxml"
	xmlns:clg="Collage.Clip.*"
	xmlns:ofc="*"
	backgroundColor="0x000000"
	backgroundAlpha="0"
	horizontalScrollPolicy="off"
	verticalScrollPolicy="off"
	creationComplete="Initialize()" >
	
	<mx:Script>
		<![CDATA[
        import mx.collections.ArrayCollection;
		import mx.events.PropertyChangeEvent;

        import mx.collections.ArrayCollection;

        [Bindable]
        private var medalsAC:ArrayCollection = new ArrayCollection( [
            { Country: "USA", Gold: 35, Silver:39, Bronze: 29 },
            { Country: "China", Gold: 32, Silver:17, Bronze: 14 },
            { Country: "Russia", Gold: 27, Silver:27, Bronze: 38 } ]);
    
        private function displayGold(data:Object, field:String, index:Number, percentValue:Number):String {
            var temp:String= (" " + percentValue).substr(0,6);
            return data.Country + ": " + '\n' + "Total Gold: " + data.Gold + '\n' + temp + "%";
        }

		protected function Initialize():void
		{
		}
		
		protected override function onModelChange( event:PropertyChangeEvent):void
		{
			var pieChartModel:PieChartClip = _Model as PieChartClip;
			setStyle("backgroundColor", pieChartModel.backgroundColor);
			setStyle("backgroundAlpha", pieChartModel.backgroundAlpha);
			super.onModelChange(event);
		}
		]]>
     </mx:Script>
     <mx:PieChart id="chart" height="100%" width="100%" paddingRight="5" paddingLeft="5" color="0x323232"
        showDataTips="true" dataProvider="{medalsAC}" >
        <mx:series>
            <mx:PieSeries labelPosition="callout" field="Gold" labelFunction="displayGold">
                <mx:calloutStroke>
                    <mx:Stroke weight="0" color="0x888888" alpha="1.0"/>
                </mx:calloutStroke>
                <mx:radialStroke>
                    <mx:Stroke weight="0" color="#FFFFFF" alpha="0.20"/>
                </mx:radialStroke>
                <mx:stroke>
                    <mx:Stroke color="0" alpha="0.20" weight="2"/>
                </mx:stroke>
            </mx:PieSeries>
        </mx:series>
    </mx:PieChart>
</clg:ClipView>